var _breadcrumb='<ul class="breadcrumb"><li><a href="#">Home</a></li><li><a href="#">Pictures</a></li><li><a href="#">Summer 15</a></li><li><a href="#">Italy</a></li></ul>';var _card='<section><h2>Sản phẩm nổi bật</h2><div class="row"><div class="col-rp sm-6 md-4 lg-3 xl-2"><a class="card" href="/product"><div class="ratio-1-1"><img class="ratio-elm" src="/assets/img/iphone.jpg" alt="" /><div class="discount"><svg height="30" width="40"><polygon points="0,0 40,0 40,20 20,30 0,20" style="fill:#fdd600C0;stroke:#000000;stroke-width:0" /></svg><span class="abs-center">-15%</span></div></div><span class="title">This is image from my website</span><div class="price middle space"><span>12.000đ</span><img src="/assets/img/payment-icons/free-delivery.svg" alt="" /></div><div class="star middle space"><div class="flex"><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xe839;</i><i class="g-icons round">&#xf06f;</i></div><span>Đã bán 130</span></div><span class="seller">Shopee</span></a></div><div class="col-rp sm-6 md-4 lg-3 xl-2"><a class="card" href=""><div class="ratio-1-1"><img class="ratio-elm" src="/assets/img/paris.jpg" alt="" /></div><span class="title">This is image from my website</span><div class="price middle space"><span>12.000đ</span><img src="/assets/img/payment-icons/free-delivery.svg" alt="" /></div><div class="star middle space"><div class="flex"><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i></div><span>Đã bán 130</span></div><span class="seller">Shopee</span></a></div><% for(var $item in $data[\'items\']){$item=$data[\'items\'][$item]; %><div class="col-rp sm-6 md-4 lg-3 xl-2"><a class="card" href=""><div class="ratio-1-1"><img class="ratio-elm fakeimg" src="" alt="" /></div><span class="title">This is image from fds fds fdsfds website</span><div class="price middle space"><span>12.000đ</span><img src="/assets/img/payment-icons/free-delivery.svg" alt="" /></div><div class="star middle space"><div class="flex"><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xe839;</i><i class="g-icons round">&#xf06f;</i><i class="g-icons round">&#xf06f;</i></div><span>Đã bán 130</span></div><span class="seller">Shopee</span></a></div><% } %></div></section>';var _carts='<section class="carts"><div class="row title middle center"><label class="col-rp sm-1 checkbox"><input type="checkbox"><span class="checkmark">&#10003;</span></label><h2 class="col-rp sm-11 md-show">Giỏ hàng</h2><span class="col-rp sm-2 xl-1 md-hide">Hình ảnh</span><div class="col-rp sm-9 xl-10 md-hide"><div class="row"><span class="col-rp lg-7">Mô tả</span><span class="col-rp lg-2">Số lượng</span><span class="col-rp lg-2">Đơn giá</span><span class="col-rp lg-1"></span></div></div></div><div class="row item middle"><label class="col-rp sm-1 checkbox"><input type="checkbox" checked="true"><span class="checkmark">&#10003;</span></label><img class="col-rp sm-2 xl-1" src="/assets/img/iphone.jpg" alt=""></img><div class="col-rp sm-9 xl-10"><div class="row"><span class="col-rp sm-12 lg-7 md-ellipsis align-left middle">Áo Khoác Thun Nữ Rằn Ri Có Nón Chống Nắng Ôm Body Siêu Đẹp Mềm Mịn Mỏng Mát</span><div class="col-rp sm-6 lg-2 number-input center middle"><button class="button xl-hide">-</button><input class="input" type="number" value="1" /><button class="button xl-hide">+</button></div><span class="col-rp sm-4 lg-2 center middle">123.000đ</span><a class="col-rp sm-2 lg-1 center middle">Xóa</a></div></div></div><div class="row item middle"><label class="col-rp sm-1 checkbox"><input type="checkbox" checked="true"><span class="checkmark">&#10003;</span></label><img class="col-rp sm-2 xl-1" src="/assets/img/paris.jpg" alt=""></img><div class="col-rp sm-9 xl-10"><div class="row"><span class="col-rp sm-12 lg-7 md-ellipsis align-left middle">Áo Khoác Thun Nữ Rằn Ri Có Nón Chống Nắng</span><div class="col-rp sm-6 lg-2 number-input center middle"><button class="button xl-hide">-</button><input class="input" type="number" value="1" /><button class="button xl-hide">+</button></div><span class="col-rp sm-4 lg-2 center middle">123.000đ</span><a class="col-rp sm-2 lg-1 center middle">Xóa</a></div></div></div></section><section class="coupon"><div class="row"><div class="col-rp md-6 vocher"><div class="middle space"><span>Mã giảm giá</span><input class="input" type="text" placeholder="Nhập mã giảm giá của bạn"><button class="button">Áp dụng</button></div><span class="error">Mã giảm giá không hợp lệ</span></div><div class="col-rp md-6 payment"><div><span>Tổng tiền</span><span class="bold">123.000đ</span></div><div><span>Giảm giá</span><span>-23.000đ</span></div><div><span>Phí giao hàng</span><span>23.000đ</span></div><div class="pay middle space"><span class="bold">Cần thanh toán (1 Sản phẩm)</span><span class="value">123.000đ</span></div><div class="action center"><button class="button" onclick="history.back(-1)">Quay lại</button><button class="button">Thanh toán</button></div></div></div></section>';var _dots='<div class="dots"><a class="dot"></a><a class="dot"></a><a class="dot"></a><a class="dot"></a></div>';var _error='<div class="row middle center notfound"><svg width="350px" height="400px" viewBox="0 0 837 1055"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path id="Polygon-1" d="M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z" stroke="#007FB2" stroke-width="6"></path><path id="Polygon-2" d="M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z" stroke="#EF4A5B" stroke-width="6"></path><path id="Polygon-3" d="M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z" stroke="#795D9C" stroke-width="6"></path><path id="Polygon-4" d="M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z" stroke="#F2773F" stroke-width="6"></path><path id="Polygon-5" d="M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z" stroke="#36B455" stroke-width="6"></path></g></svg><div class="message"><h1>Oops!</h1><h2>We can\'t seem to find the page you\'re looking for.</h2><div class="row"><a class="button" onclick="history.back(-1)">Go Back</a><a class="button" href="/">Go Home</a></div></div></div>';var _feature='<div class="feature"><h1>Áo Khoác Thun Nữ Rằn Ri Có Nón Chống Nắng Ôm Body Siêu Đẹp Mềm Mịn Mỏng Mát</h1><div class="middle space"><div class="ratings middle"><div class="middle"><span>4.6</span><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xf0ec;</i><i class="g-icons round">&#xe839;</i><i class="g-icons round">&#xf06f;</i></div><span class="lg-hide"><span>100</span> Đánh giá</span></div><div class="share middle"><span>Chia sẻ:</span><img src="/assets/img/social-icons/facebook-round.svg" alt="" /><img src="/assets/img/social-icons/messenger-round.svg" alt="" /><img src="/assets/img/social-icons/twitter-round.svg" alt="" /></div></div><div class="middle space"><div class="price middle"><span class="old lg-hide">150.000đ</span><span class="new">130.000đ</span><span class="discount">Giảm 20%</span></div><span>Đã bán 130</span></div><div class="promotions"><h3>Ưu đãi:</h3><div class="content"><span><i class="g-icons outline">&#xe862;</i>Voucher MoMo - Mua hàng TỪ 1K</span><span><i class="g-icons outline">&#xe862;</i>Mua từ 49.000đ tặng 20.000đ phí vận chuyển</span></div></div><div class="shipping"><h3>Vận chuyển:</h3><div class="content"><span>Phí vận chuyển: <span>35.000đ</span></span><span>Miễn phí vận chuyển khi mua 2 sản phẩm trở lên</span></div></div><div><h3>Màu sắc:</h3><div class="content"><button class="button active">Màu đỏ</button><button class="button">Màu xanh</button><button class="button">Màu vàng</button><button class="button">Màu xanh đen</button><button class="button">Màu xanh rêu</button><button class="button">Màu xanh ngọc</button><button class="button">Màu trắng</button></div></div><div><h3>Chất liệu:</h3><div class="content"><button class="button active">Vải</button><button class="button">Nhựa</button></div></div><div><h3>Kích thước:</h3><div class="content"><button class="button active">Nhỏ</button><button class="button">Lớn</button></div></div><div class="amount"><h3>Số lượng:</h3><div class="content middle space"><div class="number-input"><button class="button">-</button><input class="input" type="number" value="1"/><button class="button">+</button></div><span>100 sản phẩm có sẵn</span></div></div><div class="buy center"><button class="button">Thêm vào giỏ hàng</button><button class="button">Mua ngay sản phẩm</button></div><a href="/">Xem hướng dẫn mua hàng</a></div>';var _footer='<footer class="sm-hide"><div class="container row"><div class="col-rp sm-6 lg-3"><strong>HỖ TRỢ KHÁCH HÀNG</strong><a href="">Các câu hỏi thường gặp</a><a href="">Hướng dẫn đặt hàng</a><a href="">Hướng dẫn thanh toán</a><a href="">Chính sách giao nhận hàng</a><a href="">Chính sách trả hàng và hoàn tiền</a><a href="">Hướng dẫn mua trả góp</a><a href="">Hướng dẫn & điều kiện sử dụng Voucher</a></div><div class="col-rp sm-6 lg-3"><strong>VỀ THƯƠNG MẠI ĐIỆN TỬ</strong><a href="">Giới thiệu</a><a href="">Tuyển dụng</a><a href="">Quy chế hoạt động</a><a href="">Chính sách bảo mật</a><a href="">Điều khoản sử dụng</a><a href="">Chính sách bảo hành</a><a href="">Điểm tích lũy GIÁ KHO Member</a><a href="">KHO công nghệ</a><a href="">Hệ Thống Cộng Tác Viên Toàn Quốc</a></div><div class="col-rp sm-6 lg-3"><strong>THÔNG TIN HỖ TRỢ</strong><a href="">Bán hàng Doanh nghiệp</a><a href="">Hợp tác cùng GIÁ KHO</a><a href="">Quy định về việc sao lưu dữ liệu</a><a href="">Email: trogiup@dienthoaigiakho.vn</a></div><div class="col-rp sm-6 lg-3"><div class="lg-hide"><strong>PHƯƠNG THỨC THANH TOÁN</strong><div class="row payment"><div class="tooltip"><img src="/assets/img/payment-icons/visa.svg" alt=""><span>visa</span></div><div class="tooltip"><img src="/assets/img/payment-icons/mastercard.svg" alt=""><span>mastercard</span></div><div class="tooltip"><img src="/assets/img/payment-icons/paypal.svg" alt=""><span>paypal</span></div><div class="tooltip"><img src="/assets/img/payment-icons/bank-transfer.svg" alt=""><span>bank transfer</span></div><div class="tooltip"><img src="/assets/img/payment-icons/money.svg" alt=""><span>cash</span></div><div class="tooltip"><img src="/assets/img/payment-icons/bitcoin.svg" alt=""><span>bitcoin</span></div></div></div><strong>KẾT NỐI VỚI CHÚNG TÔI</strong><div class="row social"><img src="/assets/img/social-icons/facebook.svg" alt=""><img src="/assets/img/social-icons/multimedia.svg" alt=""><img src="/assets/img/social-icons/skype.svg" alt=""><img src="/assets/img/social-icons/whatsapp.svg" alt=""></div></div></div></footer>';var _head='<head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all" data-rh="true"><meta name="description" content="<% echo ($data[\'description\']); %>"><meta name="keywords" content="<% echo ($data[\'keywords\']); %>"><meta name="author" content="<% echo ($data[\'author\']); %>"><meta property="og:title" content="<% echo ($data[\'title\']); %>"><meta property="og:type" content="article"><meta property="og:url" content="http://www.example.com/"><meta property="og:image" content="http://example.com/image.jpg"><meta property="og:description" content="<% echo ($data[\'description\']); %>"><meta property="og:site_name" content="Tên trang web, tức là Moz"><meta property="og:price: amount" content="15.00"><meta property="og:price: currency" content="USD"><title><% echo ($data[\'title\']); %></title><link rel="canonical" href="https://site.vn" data-rh="true"><link rel="icon" href="/assets/img/favicon.ico"><link rel="stylesheet" href="/assets/css/webfonts/fontawesome.css"><link rel="stylesheet" href="/assets/css/webfonts/googlefont.css"><link rel="stylesheet" href="/assets/css/theme-default.css"></head>';var _header='<header><div class="container"><div class="row"><a class="logo col-rp sm-2 md-3 middle" href="/"><i class="g-icons">&#xe8cc;</i><em class="sm-hide">shoppi</em><em class="lg-hide">.com</em></a><div class="col-rp sm-8 md-6 lg-7 middle"><div class="search middle"><input class="input" type="text" placeholder="Tìm kiếm trên shop.com - HOTLINE 0000123"><button class="button"><i class="g-icons">&#xe8b6;</i></button></div></div><div class="col-rp sm-2 md-3 lg-2 cart end"><a class="middle sm-hide" href="/carts"><i class="g-icons outline">&#xe8cc;</i><span class="">GIỎ HÀNG</span></a><button class="button sm-show"><i class="g-icons" onclick="toggle(\'nav\')">&#xe5d2;</i></button></div></div></div></header>';var _navbar='<nav class="sm-hide"><div class="container"><div class="dropdown sm-block"><a href="#"><i class="fas fa-user"></i>ĐIỆN THOẠI</a><div class="content sm-hide"><strong class="" href="#">Loai A</strong><a href="/a1-a2-a3" route>Dien thoai loai A1</a><a href="/a2" route>Dien thoai A2</a><strong class="" href="#">Loai B</strong><a href="/api/b1/b2">Dien thoai loai B1</a><a href="/b2">Dien thoai B2</a></div></div><div class="dropdown sm-block"><a href="#"><i class="fas fa-user"></i>MAY TINH</a><div class="content sm-hide"><strong class="" href="#">Loai A</strong><a href="#">May tinh loai A1</a><a href="#">May tinh A2</a><strong class="" href="#">Loai B</strong><a href="#">May tinh loai B1</a><a href="#">May tinh B2</a></div></div><div class="sm-show sm-block"><a href="#">GIỎ HÀNG</a></div><div class="float-right sm-block"><a href="#">ĐĂNG KÝ</a><a href="#">ĐĂNG NHẬP</a></div></div></nav>';var _pagination='<div class="pagination align-center"><div class="links"><a href="#">&#10094;</a><a href="#">1</a><a class="active" href="#">2</a><a href="#">3</a><a href="#">4</a><a href="#">5</a><a href="#">&#10095;</a></div></div>';var _script='<%if (ENVIRONMENT == \'development\') {echo (\'<script>\');for(var $logmsg in $GLOBALS[\'logmsg\']){$logmsg=$GLOBALS[\'logmsg\'][$logmsg];echo ($logmsg);}echo (\'</script>\');$GLOBALS[\'logmsg\'] = null;}if (RENDERMODE == \'single_page_app\') {echo (\'<script src="/assets/js/index.min.js"></script>\');}%><script src="/assets/js/scripts.min.js"></script>';var _slides='<div class="slides"><div class="ratio-1-1 zoom"><img class="ratio-elm active" src="/assets/img/trangan.jpg" alt=""/><img class="ratio-elm" src="/assets/img/danang.jpg" alt=""/><img class="ratio-elm" src="/assets/img/ruong.jpg" alt=""/><img class="ratio-elm" src="/assets/img/nature.jpg" alt=""/><div class="zoom-lens sm-hide"></div><div class="zoom-res sm-hide"></div></div><a class="next abs-middle">&#10095;</a><a class="prev abs-middle">&#10094;</a></div>';var _slideshow='<div class="slideshow"><div class="slides"><div class="slide fade"><div class="number">1 / 3</div><img src="/assets/img/nature.jpg"><div class="caption">Caption One</div></div><div class="slide fade"><div class="number">2 / 3</div><img src="/assets/img/ruong.jpg"><div class="caption">Caption Two</div></div><div class="slide fade"><div class="number">3 / 3</div><img class="fakeimg" src=""><div class="caption">Caption Three</div></div></div><a class="next abs-middle nselect">&#10095;</a><a class="prev abs-middle nselect">&#10094;</a><div class="dots"><a class="dot"></a><a class="dot"></a><a class="dot"></a></div></div><!-- <script type="text/javascript" src="/assets/js/slideshow.js"></script> -->';var _thumbs='<div class="row thumbs"><div class="col-rp sm-2"><div class="ratio-1-1 thumb active"><img class="ratio-elm" src="/assets/img/trangan.jpg"></div></div><div class="col-rp sm-2"><div class="ratio-1-1 thumb"><img class="ratio-elm" src="/assets/img/danang.jpg"></div></div><div class="col-rp sm-2"><div class="ratio-1-1 thumb"><img class="ratio-elm" src="/assets/img/ruong.jpg"></div></div><div class="col-rp sm-2"><div class="ratio-1-1 thumb"><img class="ratio-elm" src="/assets/img/nature.jpg"></div></div><a class="next abs-middle">&#10095;</a><a class="prev abs-middle">&#10094;</a></div>';var _about='';var view_carts='<!DOCTYPE html><html lang="en"><% include(_head); %><body><% include(_header); %><% include(_navbar); %><main class="container"><% include(_carts); %></main><% include(_footer); %><% include(_script); %></body></html>';var view_error='<!DOCTYPE html><html lang="en"><% include(_head); %><body><main class="container"><% include(_error); %></main><% include(_script); %></body></html>';var view_home='<!DOCTYPE html><html lang="en"><% include(_head); %><body><% include(_header); %><% include(_navbar); %><main class="container"><% include(_card); %><% include(_card); %><% include(_pagination); %></main><% include(_footer); %><% include(_script); %></body></html>';var view_index='<!DOCTYPE html><html lang="en"><% include(_head); %><body><% include(_script); %></body></html>';var view_product='<!DOCTYPE html><html lang="en"><% include(_head); %><body><% include(_header); %><% include(_navbar); %><main class="container"><% include(_breadcrumb); %><section class="row"><div class="col-rp md-6 sm-12"><% include(_slides); %><% include(_thumbs); %></div><div class="col-rp md-6 sm-12"><% include(_feature); %></div></section><% include(_pagination); %></main><% include(_footer); %><% include(_script); %></body></html>';var ENVIRONMENT='development';var RENDERMODE='single_page_app';var routes={};routes['/api/$1/$2']='/api/$1/$2';routes['/$1-$2-$3']='/$1/$2/$3';routes['/$1/$2/$3']='/home';routes['/$1/$2']='/home';routes['/$1-']='/home';routes['/']='/home';var home=new controller();home.index=function(argument){console.log("home");var html=document.querySelector("html");var data={};data['items']=[1,2,3];html.innerHTML=this.view(view_home,data);}
function controller(){this.error=function(){var html=document.querySelector("html");html.innerHTML=this.view(view_error);}
this.view=function(html,argument){return EjsParser(html,argument);}
return this;}
function model(){this.get=function(url,callback){HttpGet(url,callback(JSON.parse(res)));}
return this;}
function Router(path){var match=false;var expaths,object,method,argument;path=path.replace(/[{}<>$]/g,'_');for(var key in routes){var re,regex,matches,count;regex='^'+key.replace(/\//g,'\\/');regex=regex.replace(/\$1/g,'(.+)');regex=regex.replace(/\$2/g,'(.+)');regex=regex.replace(/\$3/g,'(.+)');re=new RegExp(regex,'g');matches=re.exec(path);if(matches){expaths=routes[key];count=matches.length;if(count>1)
expaths=expaths.replace(/\$1/g,matches[1]);if(count>2)
expaths=expaths.replace(/\$2/g,matches[2]);if(count>3)
expaths=expaths.replace(/\$3/g,matches[3]);match=true;break;}}
if(!match){(controller()).error();return false;}
expaths=expaths.split('/');count=expaths.length;if(count>3)
argument=expaths[3];else
argument='';if(count>2)
method=expaths[2];else
method='index';if(count>1)
object=expaths[1];else
object='home';if(object=='')
object='home';if(method=='')
method='index';if(!$GLOBALS[object]){(controller()).error();return false;}
if(!$GLOBALS[object][method]){(controller()).error();return false;}
$GLOBALS[object][method](argument);return true;}
var $GLOBALS;try{$GLOBALS=Function('return this')()||(42,eval)('this');}catch(e){$GLOBALS=window;}
function EjsParser(html,argument=[]){var result,match,cursor=0;var jsExp=/<%([^%]+)%>/g;var addExp=/.*[=:;{}].*$/g;var code='var str = [];\n';function add(line,js){if(js){if(line.match(addExp)){line=line.replace(/echo/g,'str.push');line=line.replace(/include *\((.+)\)/g,'str.push(EjsParser($1,\$data))');code+=line+'\n';}
else{code+='str.push('+line+');\n';}}else if(line!=''){line=line.replace(/["]/g,'\\"');line=line.replace(/[\t]/g,'\\t');line=line.replace(/[\r]/g,'\\r');line=line.replace(/[\n]/g,'\\n');code+='str.push("'+line+'");\n';}}
while(match=jsExp.exec(html)){add(html.slice(cursor,match.index));add(match[1],true);cursor=match.index+match[0].length;}
add(html.substr(cursor,html.length-cursor));code+='return str.join("");\n';try{result=Function('$data',code).call(argument,argument);}catch(err){console.error(code+'\n',err);}
return result;}
function HttpGet(url,callback){var httpRequest=new XMLHttpRequest();httpRequest.onreadystatechange=function(){if(httpRequest.readyState==XMLHttpRequest.DONE){if(httpRequest.status==200)
callback(httpRequest.responseText);else
console.error('GET'+url+'error.');}}
httpRequest.open('GET',url);httpRequest.send(null);}
function HttpPost(url,data,callback){var httpRequest=new XMLHttpRequest();httpRequest.onreadystatechange=function(){if(httpRequest.readyState==XMLHttpRequest.DONE){if(httpRequest.status==200)
callback(httpRequest.responseText);else
console.error('POST'+url+'error.');}}
httpRequest.open('POST',url);httpRequest.setRequestHeader('Content-Type','application/x-www-form-urlencoded');httpRequest.send(data);}
if(ENVIRONMENT!='development'){console.log=function(){};}
window.addEventListener('popstate',function(){console.log("popstate");Router(window.location.pathname);window.dispatchEvent(new Event('load'));});document.addEventListener("DOMContentLoaded",function(){console.log("DOMContentLoaded");Router(window.location.pathname);document.body.addEventListener("click",function(event){if(event.target.matches("[route]")){console.log("click");history.pushState(null,null,event.target.href);if(Router(window.location.pathname)){event.preventDefault();window.dispatchEvent(new Event('load'));}}});});
